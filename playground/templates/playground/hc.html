<!-- {% extends 'main.html' %}

{% block content%}
<div>
    <div>
        {% for alg in algorithms %}
        <div>
            <a href="/{{alg.key}}"><h5>{{alg.name}}</h5></a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock content %} -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hill Climber</title>
    <style>
        .controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .visualization {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Hill Climber</h1>
    <div class="controls">
        <label for="num_cities">Number of Cities:</label>
        <input type="number" id="num_cities" name="num_cities" value="5">
        <button id="update">Update</button>
    </div>
    <div class="visualization">
        <img id="plot" src="data:image/png;base64,{{ plot_url }}" alt="TSP Visualization">
    </div>
    <script>
        document.getElementById('update').addEventListener('click', function() {
            const numCities = document.getElementById('num_cities').value;
            fetch('/update_hc/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    'X-CSRFToken': '{{ csrf_token }}'
                },
                body: `num_cities=${numCities}`
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('plot').src = `data:image/png;base64,${data.plot_url}`;
            });
        });
    </script>
</body>
</html>
